{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */import { canUseDOM } from \"./dom\";\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isFunction(value) {\n  return typeof value === 'function';\n}\nexport function throttle(fn, threshold = 50, scope = canUseDOM ? window : undefined) {\n  let prevDate = Date.now() - threshold;\n  let timeoutId;\n  const throttledFn = (...args) => {\n    const timeLeft = prevDate + threshold - Date.now();\n    clearTimeout(timeoutId);\n    if (timeLeft > 0) {\n      timeoutId = setTimeout(() => {\n        prevDate = Date.now();\n        fn.apply(scope, args);\n      }, timeLeft);\n      return;\n    }\n    prevDate = Date.now();\n    fn.apply(scope, args);\n  };\n  throttledFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n  return throttledFn;\n}\nexport function debounce(fn, delay, context = canUseDOM ? window : undefined) {\n  let timeoutId;\n  let args;\n  const later = () => fn.apply(context, args);\n  const debouncedFn = (...a) => {\n    args = a;\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(later, delay);\n  };\n  debouncedFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n  return debouncedFn;\n}","map":{"version":3,"names":["canUseDOM","isFunction","value","throttle","fn","threshold","scope","window","undefined","prevDate","Date","now","timeoutId","throttledFn","args","timeLeft","clearTimeout","setTimeout","apply","cancel","debounce","delay","context","later","debouncedFn","a"],"sources":["/home/dmitry/Projects/MEPhI/MEPhI360/TGUI-Example/node_modules/@telegram-apps/telegram-ui/src/helpers/fuctions.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { canUseDOM } from 'helpers/dom';\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isFunction(value: unknown): value is Function {\n  return typeof value === 'function';\n}\n\nexport function throttle<T extends any[]>(\n  fn: (...args: T) => unknown,\n  threshold = 50,\n  scope = canUseDOM ? window : undefined,\n) {\n  let prevDate: number = Date.now() - threshold;\n  let timeoutId: ReturnType<typeof setTimeout>;\n\n  const throttledFn = (...args: T) => {\n    const timeLeft = prevDate + threshold - Date.now();\n\n    clearTimeout(timeoutId);\n    if (timeLeft > 0) {\n      timeoutId = setTimeout(() => {\n        prevDate = Date.now();\n        fn.apply(scope, args);\n      }, timeLeft);\n      return;\n    }\n\n    prevDate = Date.now();\n    fn.apply(scope, args);\n  };\n\n  throttledFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return throttledFn;\n}\n\nexport function debounce<T extends any[]>(\n  fn: (...args: T) => unknown,\n  delay: number,\n  context = canUseDOM ? window : undefined,\n) {\n  let timeoutId: ReturnType<typeof setTimeout>;\n  let args: T;\n\n  const later = () => fn.apply(context, args);\n  const debouncedFn = (...a: T) => {\n    args = a;\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(later, delay);\n  };\n\n  debouncedFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return debouncedFn;\n}\n"],"mappings":"AAAA,uDAEA,SAASA,SAAS,QAAQ;AAE1B;AACA,OAAO,SAASC,WAAWC,KAAc;EACvC,OAAO,OAAOA,KAAA,KAAU;AAC1B;AAEA,OAAO,SAASC,SACdC,EAA2B,EAC3BC,SAAA,GAAY,EAAE,EACdC,KAAA,GAAQN,SAAA,GAAYO,MAAA,GAASC,SAAS;EAEtC,IAAIC,QAAA,GAAmBC,IAAA,CAAKC,GAAG,KAAKN,SAAA;EACpC,IAAIO,SAAA;EAEJ,MAAMC,WAAA,GAAcA,CAAC,GAAGC,IAAA;IACtB,MAAMC,QAAA,GAAWN,QAAA,GAAWJ,SAAA,GAAYK,IAAA,CAAKC,GAAG;IAEhDK,YAAA,CAAaJ,SAAA;IACb,IAAIG,QAAA,GAAW,GAAG;MAChBH,SAAA,GAAYK,UAAA,CAAW;QACrBR,QAAA,GAAWC,IAAA,CAAKC,GAAG;QACnBP,EAAA,CAAGc,KAAK,CAACZ,KAAA,EAAOQ,IAAA;MAClB,GAAGC,QAAA;MACH;IACF;IAEAN,QAAA,GAAWC,IAAA,CAAKC,GAAG;IACnBP,EAAA,CAAGc,KAAK,CAACZ,KAAA,EAAOQ,IAAA;EAClB;EAEAD,WAAA,CAAYM,MAAM,GAAG;IACnBH,YAAA,CAAaJ,SAAA;EACf;EAEA,OAAOC,WAAA;AACT;AAEA,OAAO,SAASO,SACdhB,EAA2B,EAC3BiB,KAAa,EACbC,OAAA,GAAUtB,SAAA,GAAYO,MAAA,GAASC,SAAS;EAExC,IAAII,SAAA;EACJ,IAAIE,IAAA;EAEJ,MAAMS,KAAA,GAAQA,CAAA,KAAMnB,EAAA,CAAGc,KAAK,CAACI,OAAA,EAASR,IAAA;EACtC,MAAMU,WAAA,GAAcA,CAAC,GAAGC,CAAA;IACtBX,IAAA,GAAOW,CAAA;IACPT,YAAA,CAAaJ,SAAA;IACbA,SAAA,GAAYK,UAAA,CAAWM,KAAA,EAAOF,KAAA;EAChC;EAEAG,WAAA,CAAYL,MAAM,GAAG;IACnBH,YAAA,CAAaJ,SAAA;EACf;EAEA,OAAOY,WAAA;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}