{"version":3,"sources":["../../src/hooks/useGlobalClicks.ts"],"sourcesContent":["import { RefObject } from 'react';\n\nimport { useEnhancedEffect } from 'hooks/useEnhancedEffect';\n\nimport { isElement } from '@floating-ui/utils/dom';\n\n/**\n * Function helps to handle global clicks outside the given refs\n * If the click is outside the given refs, the callback will be called\n */\nexport const useGlobalClicks = <\n  T extends RefObject<ElementType> | undefined | null,\n  ElementType extends Element = Element,\n>(\n  callback: (event: MouseEvent) => void,\n  ...refs: T[]\n) => {\n  useEnhancedEffect(() => {\n    const hasNotNullRefs = refs.some((ref) => ref && ref.current !== null);\n    if (!document || !hasNotNullRefs) {\n      return () => {};\n    }\n\n    const handleClick = (event: MouseEvent) => {\n      const targetEl = event.target;\n      const isClickInsideGivenRefs =\n        isElement(targetEl) &&\n        refs.some((ref) => ref && ref.current && ref.current.contains(targetEl));\n\n      !isClickInsideGivenRefs && callback(event);\n    };\n\n    document.addEventListener('click', handleClick, {\n      passive: true,\n      capture: true,\n    });\n\n    return () => document.removeEventListener('click', handleClick, true);\n  }, [document, callback, ...refs]);\n};\n"],"names":["useEnhancedEffect","isElement","useGlobalClicks","callback","refs","hasNotNullRefs","some","ref","current","document","handleClick","event","targetEl","target","isClickInsideGivenRefs","contains","addEventListener","passive","capture","removeEventListener"],"mappings":"AAEA,SAASA,iBAAiB,QAAQ,sBAA0B;AAE5D,SAASC,SAAS,QAAQ,yBAAyB;AAEnD;;;CAGC,GACD,OAAO,MAAMC,kBAAkB,CAI7BC,UACA,GAAGC;IAEHJ,kBAAkB;QAChB,MAAMK,iBAAiBD,KAAKE,IAAI,CAAC,CAACC,MAAQA,OAAOA,IAAIC,OAAO,KAAK;QACjE,IAAI,CAACC,YAAY,CAACJ,gBAAgB;YAChC,OAAO,KAAO;QAChB;QAEA,MAAMK,cAAc,CAACC;YACnB,MAAMC,WAAWD,MAAME,MAAM;YAC7B,MAAMC,yBACJb,UAAUW,aACVR,KAAKE,IAAI,CAAC,CAACC,MAAQA,OAAOA,IAAIC,OAAO,IAAID,IAAIC,OAAO,CAACO,QAAQ,CAACH;YAEhE,CAACE,0BAA0BX,SAASQ;QACtC;QAEAF,SAASO,gBAAgB,CAAC,SAASN,aAAa;YAC9CO,SAAS;YACTC,SAAS;QACX;QAEA,OAAO,IAAMT,SAASU,mBAAmB,CAAC,SAAST,aAAa;IAClE,GAAG;QAACD;QAAUN;WAAaC;KAAK;AAClC,EAAE"}