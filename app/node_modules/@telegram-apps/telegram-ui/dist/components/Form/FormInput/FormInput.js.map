{"version":3,"sources":["../../../../src/components/Form/FormInput/FormInput.tsx"],"sourcesContent":["'use client';\n\nimport { forwardRef, HTMLAttributes, ReactNode, useState } from 'react';\nimport styles from './FormInput.module.css';\n\nimport { classNames } from 'helpers/classNames';\nimport { callMultiple } from 'helpers/function';\nimport { hasReactNode } from 'helpers/react/node';\nimport { usePlatform } from 'hooks/usePlatform';\n\nimport { FormInputTitle } from './components/FormInputTitle';\n\nexport interface FormPublicProps {\n  /** Defines the visual state of the form input (e.g., error, focused). */\n  status?: 'default' | 'error' | 'focused';\n  /** Optional header content, displayed above the form input on `base` platform. */\n  header?: ReactNode;\n  /** Content to be displayed before the form input, such as icons or labels. */\n  before?: ReactNode;\n  /** Content to be displayed after the form input, often used for action icons or additional information. */\n  after?: ReactNode;\n  /** Indicates if the form input is disabled. */\n  disabled?: boolean;\n}\n\nexport interface FormInputProps extends FormPublicProps, HTMLAttributes<HTMLLabelElement> {}\n\nconst platformStyles = {\n  base: styles['wrapper--base'],\n  ios: styles['wrapper--ios'],\n};\n\nconst formStatusStyles = {\n  default: styles['wrapper--default'],\n  error: styles['wrapper--error'],\n  focused: styles['wrapper--focused'],\n};\n\n/**\n * Wraps an input element with additional layout for headers, icons, or actions, providing a consistent look and feel across the form.\n * It supports conditional rendering based on the platform and the state of the form element.\n */\nexport const FormInput = forwardRef<HTMLDivElement, FormInputProps>(({\n  status,\n  header,\n  before,\n  after,\n  disabled,\n  children,\n  className,\n  onFocus: onFocusProp,\n  onBlur: onBlurProp,\n  ...restProps\n}, ref) => {\n  const platform = usePlatform();\n  const [isFocused, setIsFocused] = useState(false);\n\n  const formStatus = status || (isFocused ? 'focused' : 'default');\n\n  const onFocus = callMultiple(onFocusProp, () => {\n    if (disabled) {\n      return;\n    }\n\n    setIsFocused(true);\n  });\n  const onBlur = callMultiple(onBlurProp, () => setIsFocused(false));\n\n  return (\n    <div\n      ref={ref}\n      className={classNames(\n        styles.wrapper,\n        platformStyles[platform],\n        formStatusStyles[formStatus],\n        disabled && styles['wrapper--disabled'],\n      )}\n      aria-disabled={disabled}\n    >\n      <label\n        aria-disabled={disabled}\n        className={classNames(styles.body, className)}\n        onFocus={onFocus}\n        onBlur={onBlur}\n        {...restProps}\n      >\n        {hasReactNode(before) && (\n          <div className={styles.before}>\n            {before}\n          </div>\n        )}\n        {children}\n        {hasReactNode(after) && (\n          <div className={styles.after}>\n            {after}\n          </div>\n        )}\n      </label>\n      {hasReactNode(header) && platform === 'base' && (\n        <FormInputTitle className={styles.title}>{header}</FormInputTitle>\n      )}\n    </div>\n  );\n});\n"],"names":["forwardRef","useState","classNames","callMultiple","hasReactNode","usePlatform","FormInputTitle","platformStyles","base","ios","formStatusStyles","default","error","focused","FormInput","ref","status","header","before","after","disabled","children","className","onFocus","onFocusProp","onBlur","onBlurProp","restProps","platform","isFocused","setIsFocused","formStatus","div","aria-disabled","label"],"mappings":"AAAA;;;;;AAEA,SAASA,UAAU,EAA6BC,QAAQ,QAAQ,QAAQ;AAGxE,SAASC,UAAU,QAAQ,8BAAqB;AAChD,SAASC,YAAY,QAAQ,4BAAmB;AAChD,SAASC,YAAY,QAAQ,8BAAqB;AAClD,SAASC,WAAW,QAAQ,6BAAoB;AAEhD,SAASC,cAAc,QAAQ,8BAA8B;AAiB7D,MAAMC,iBAAiB;IACrBC,IAAI;IACJC,GAAG;AACL;AAEA,MAAMC,mBAAmB;IACvBC,OAAO;IACPC,KAAK;IACLC,OAAO;AACT;AAEA;;;CAGC,GACD,OAAO,MAAMC,0BAAYd,WAA2C,SAWjEe;QAXkE,EACnEC,MAAM,EACNC,MAAM,EACNC,MAAM,EACNC,KAAK,EACLC,QAAQ,EACRC,QAAQ,EACRC,SAAS,EACTC,SAASC,WAAW,EACpBC,QAAQC,UAAU,EAEnB,WADIC;QATHX;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAE;;IAGA,MAAMG,WAAWvB;IACjB,MAAM,CAACwB,WAAWC,aAAa,GAAG7B,SAAS;IAE3C,MAAM8B,aAAaf,UAAWa,CAAAA,YAAY,YAAY,SAAQ;IAE9D,MAAMN,UAAUpB,aAAaqB,aAAa;QACxC,IAAIJ,UAAU;YACZ;QACF;QAEAU,aAAa;IACf;IACA,MAAML,SAAStB,aAAauB,YAAY,IAAMI,aAAa;IAE3D,qBACE,MAACE;QACCjB,KAAKA;QACLO,WAAWpB,oCAETK,cAAc,CAACqB,SAAS,EACxBlB,gBAAgB,CAACqB,WAAW,EAC5BX;QAEFa,iBAAeb;;0BAEf,MAACc;gBACCD,iBAAeb;gBACfE,WAAWpB,oCAAwBoB;gBACnCC,SAASA;gBACTE,QAAQA;eACJE;;oBAEHvB,aAAac,yBACZ,KAACc;wBAAIV,SAAS;kCACXJ;;oBAGJG;oBACAjB,aAAae,wBACZ,KAACa;wBAAIV,SAAS;kCACXH;;;;YAINf,aAAaa,WAAWW,aAAa,wBACpC,KAACtB;gBAAegB,SAAS;0BAAiBL;;;;AAIlD,GAAG"}