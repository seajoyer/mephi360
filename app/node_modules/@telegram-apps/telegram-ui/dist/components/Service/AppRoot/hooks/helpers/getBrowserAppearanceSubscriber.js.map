{"version":3,"sources":["../../../../../../src/components/Service/AppRoot/hooks/helpers/getBrowserAppearanceSubscriber.ts"],"sourcesContent":["import { canUseDOM } from 'helpers/dom';\n\nimport { AppRootContextInterface } from 'components/Service/AppRoot/AppRootContext';\n\nexport const getBrowserAppearanceSubscriber = (\n  setAppearance: (appearance: NonNullable<AppRootContextInterface['appearance']>) => void,\n): () => void => {\n  if (!canUseDOM || !window.matchMedia) {\n    return () => {};\n  }\n\n  const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n  const listener = () => {\n    setAppearance(mediaQuery.matches ? 'dark' : 'light');\n  };\n\n  mediaQuery.addEventListener('change', listener);\n  return () => mediaQuery.removeEventListener('change', listener);\n};\n"],"names":["canUseDOM","getBrowserAppearanceSubscriber","setAppearance","window","matchMedia","mediaQuery","listener","matches","addEventListener","removeEventListener"],"mappings":"AAAA,SAASA,SAAS,QAAQ,6BAAc;AAIxC,OAAO,MAAMC,iCAAiC,CAC5CC;IAEA,IAAI,CAACF,aAAa,CAACG,OAAOC,UAAU,EAAE;QACpC,OAAO,KAAO;IAChB;IAEA,MAAMC,aAAaF,OAAOC,UAAU,CAAC;IACrC,MAAME,WAAW;QACfJ,cAAcG,WAAWE,OAAO,GAAG,SAAS;IAC9C;IAEAF,WAAWG,gBAAgB,CAAC,UAAUF;IACtC,OAAO,IAAMD,WAAWI,mBAAmB,CAAC,UAAUH;AACxD,EAAE"}