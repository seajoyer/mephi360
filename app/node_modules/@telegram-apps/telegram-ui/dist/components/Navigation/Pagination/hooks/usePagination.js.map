{"version":3,"sources":["../../../../../src/components/Navigation/Pagination/hooks/usePagination.ts"],"sourcesContent":["'use client';\n\nimport { range } from 'helpers/array';\nimport { useCustomEnsuredControl } from 'hooks/useEnsureControl';\n\nimport { PaginationType } from './enum';\nimport { UsePaginationItem, UsePaginationProps } from './types';\n\n/**\n * A bit changed hook from @mui\n * Source: https://github.com/mui/material-ui/blob/master/packages/mui-material/src/usePagination/usePagination.js\n * */\nexport const usePagination = ({\n  boundaryCount = 1,\n  count = 1,\n  defaultPage = 1,\n  hideNextButton = false,\n  hidePrevButton = false,\n  onChange,\n  page: pageProp,\n  siblingCount = 1,\n}: UsePaginationProps): UsePaginationItem[] => {\n  const [page, setPageState] = useCustomEnsuredControl({\n    value: pageProp,\n    defaultValue: defaultPage,\n  });\n\n  const handleClick: UsePaginationProps['onChange'] = (event, value) => {\n    if (!pageProp) {\n      setPageState(value);\n    }\n\n    if (onChange) {\n      onChange(event, value);\n    }\n  };\n\n  const startPages = range(1, Math.min(boundaryCount, count));\n  const endPages = range(Math.max(count - boundaryCount + 1, boundaryCount + 1), count);\n\n  const siblingsStart = Math.max(\n    Math.min(\n      // Natural start\n      page - siblingCount,\n      // Lower boundary when page is high\n      count - boundaryCount - siblingCount * 2 - 1,\n    ),\n    // Greater than startPages\n    boundaryCount + 2,\n  );\n\n  const siblingsEnd = Math.min(\n    Math.max(\n      // Natural end\n      page + siblingCount,\n      // Upper boundary when page is low\n      boundaryCount + siblingCount * 2 + 2,\n    ),\n    // Less than endPages\n    endPages.length > 0 ? endPages[0] - 2 : count - 1,\n  );\n\n  // Basic list of items to render\n  // e.g. itemList = ['first', 'previous', 1, 'ellipsis', 4, 5, 6, 'ellipsis', 10, 'next', 'last']\n  const itemList: Array<PaginationType | number> = [\n    ...(hidePrevButton ? [] : [PaginationType.Previous]),\n    ...startPages,\n\n    // Start ellipsis\n    // eslint-disable-next-line no-nested-ternary\n    ...(siblingsStart > boundaryCount + 2\n      ? [PaginationType.StartEllipsis]\n      : boundaryCount + 1 < count - boundaryCount\n        ? [boundaryCount + 1]\n        : []),\n\n    // Sibling pages\n    ...range(siblingsStart, siblingsEnd),\n\n    // End ellipsis\n    // eslint-disable-next-line no-nested-ternary\n    ...(siblingsEnd < count - boundaryCount - 1\n      ? [PaginationType.EndEllipsis]\n      : count - boundaryCount > boundaryCount\n        ? [count - boundaryCount]\n        : []),\n\n    ...endPages,\n    ...(hideNextButton ? [] : [PaginationType.Next]),\n  ];\n\n  // Map the button type to its page number\n  const buttonPage = (type: UsePaginationItem['type']) => {\n    switch (type) {\n      case 'previous':\n        return page - 1;\n      case 'next':\n        return page + 1;\n      default:\n        return null;\n    }\n  };\n\n  return itemList.map<UsePaginationItem>((typeOrPageNumber) => {\n    if (typeof typeOrPageNumber === 'number') {\n      return {\n        onClick: (event) => handleClick(event, typeOrPageNumber),\n        type: PaginationType.Page,\n        page: typeOrPageNumber,\n        selected: typeOrPageNumber === page,\n        disabled: false,\n        'aria-current': typeOrPageNumber === page ? 'true' : undefined,\n      };\n    }\n\n    return {\n      onClick: (event) => handleClick(event, buttonPage(typeOrPageNumber) || 0),\n      type: typeOrPageNumber,\n      page: buttonPage(typeOrPageNumber),\n      selected: false,\n      disabled:\n        (![PaginationType.StartEllipsis, PaginationType.EndEllipsis].includes(typeOrPageNumber) &&\n          (typeOrPageNumber === PaginationType.Next ? page >= count : page <= 1)),\n    };\n  });\n};\n"],"names":["range","useCustomEnsuredControl","PaginationType","usePagination","boundaryCount","count","defaultPage","hideNextButton","hidePrevButton","onChange","page","pageProp","siblingCount","setPageState","value","defaultValue","handleClick","event","startPages","Math","min","endPages","max","siblingsStart","siblingsEnd","length","itemList","Previous","StartEllipsis","EndEllipsis","Next","buttonPage","type","map","typeOrPageNumber","onClick","Page","selected","disabled","undefined","includes"],"mappings":"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"}