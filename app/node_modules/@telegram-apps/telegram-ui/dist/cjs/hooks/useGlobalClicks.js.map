{"version":3,"sources":["../../../src/hooks/useGlobalClicks.ts"],"sourcesContent":["import { RefObject } from 'react';\n\nimport { useEnhancedEffect } from 'hooks/useEnhancedEffect';\n\nimport { isElement } from '@floating-ui/utils/dom';\n\n/**\n * Function helps to handle global clicks outside the given refs\n * If the click is outside the given refs, the callback will be called\n */\nexport const useGlobalClicks = <\n  T extends RefObject<ElementType> | undefined | null,\n  ElementType extends Element = Element,\n>(\n  callback: (event: MouseEvent) => void,\n  ...refs: T[]\n) => {\n  useEnhancedEffect(() => {\n    const hasNotNullRefs = refs.some((ref) => ref && ref.current !== null);\n    if (!document || !hasNotNullRefs) {\n      return () => {};\n    }\n\n    const handleClick = (event: MouseEvent) => {\n      const targetEl = event.target;\n      const isClickInsideGivenRefs =\n        isElement(targetEl) &&\n        refs.some((ref) => ref && ref.current && ref.current.contains(targetEl));\n\n      !isClickInsideGivenRefs && callback(event);\n    };\n\n    document.addEventListener('click', handleClick, {\n      passive: true,\n      capture: true,\n    });\n\n    return () => document.removeEventListener('click', handleClick, true);\n  }, [document, callback, ...refs]);\n};\n"],"names":["useGlobalClicks","callback","refs","useEnhancedEffect","hasNotNullRefs","some","ref","current","document","handleClick","event","targetEl","target","isClickInsideGivenRefs","isElement","contains","addEventListener","passive","capture","removeEventListener"],"mappings":";;;;+BAUaA;;;eAAAA;;;mCARqB;qBAER;AAMnB,MAAMA,kBAAkB,CAI7BC,UACA,GAAGC;IAEHC,IAAAA,oCAAiB,EAAC;QAChB,MAAMC,iBAAiBF,KAAKG,IAAI,CAAC,CAACC,MAAQA,OAAOA,IAAIC,OAAO,KAAK;QACjE,IAAI,CAACC,YAAY,CAACJ,gBAAgB;YAChC,OAAO,KAAO;QAChB;QAEA,MAAMK,cAAc,CAACC;YACnB,MAAMC,WAAWD,MAAME,MAAM;YAC7B,MAAMC,yBACJC,IAAAA,cAAS,EAACH,aACVT,KAAKG,IAAI,CAAC,CAACC,MAAQA,OAAOA,IAAIC,OAAO,IAAID,IAAIC,OAAO,CAACQ,QAAQ,CAACJ;YAEhE,CAACE,0BAA0BZ,SAASS;QACtC;QAEAF,SAASQ,gBAAgB,CAAC,SAASP,aAAa;YAC9CQ,SAAS;YACTC,SAAS;QACX;QAEA,OAAO,IAAMV,SAASW,mBAAmB,CAAC,SAASV,aAAa;IAClE,GAAG;QAACD;QAAUP;WAAaC;KAAK;AAClC"}