{"version":3,"sources":["../../../../../src/components/Blocks/Image/Image.tsx"],"sourcesContent":["'use client';\n\nimport { ImgHTMLAttributes, isValidElement, ReactNode, SyntheticEvent, useState } from 'react';\nimport styles from './Image.module.css';\n\nimport { classNames } from 'helpers/classNames';\n\nimport { getBorderRadius } from 'components/Blocks/Image/helpers/getBorderRadius';\nimport { ImageBadge } from './components/ImageBadge/ImageBadge';\n\nexport interface ImageProps extends ImgHTMLAttributes<HTMLElement> {\n  /** Specifies the size of the image, with a default of 40. Sizes are defined in pixels. */\n  size?: 20 | 24 | 28 | 40 | 48 | 96;\n  /** An element (often an icon) displayed when the image fails to load or the `src` attribute is not provided. */\n  fallbackIcon?: ReactNode;\n  /** Optional children to render within the image component's container. */\n  children?: ReactNode;\n}\n\n/**\n * Renders an image with optional fallback content. It supports custom sizing and will automatically\n * handle loading states and errors by optionally displaying a fallback icon. This component can also\n * include additional content, such as badges or overlays, as children.\n */\nexport const Image = ({\n  size = 40,\n  className,\n  alt,\n  crossOrigin,\n  decoding,\n  loading,\n  referrerPolicy,\n  sizes,\n  src,\n  srcSet,\n  useMap,\n  style,\n  fallbackIcon,\n  children,\n  onLoad,\n  onError,\n  ...restProps\n}: ImageProps) => {\n  const [loaded, setLoaded] = useState(false);\n  const [failed, setFailed] = useState(false);\n\n  const hasSrc = src || srcSet;\n  const needShowFallbackIcon = (failed || !hasSrc) && isValidElement(fallbackIcon);\n\n  const handleImageLoad = (event: SyntheticEvent<HTMLImageElement>) => {\n    if (loaded) {\n      return;\n    }\n\n    setLoaded(true);\n    setFailed(false);\n    onLoad?.(event);\n  };\n\n  const handleImageError = (event: SyntheticEvent<HTMLImageElement>) => {\n    setLoaded(false);\n    setFailed(true);\n    onError?.(event);\n  };\n\n  return (\n    <div\n      style={{\n        width: size,\n        minWidth: size,\n        height: size,\n        borderRadius: style?.borderRadius || getBorderRadius(size),\n        ...style,\n      }}\n      className={classNames(\n        styles.wrapper,\n        loaded && styles['wrapper--loaded'],\n        className,\n      )}\n      {...restProps}\n    >\n      {hasSrc && (\n        <img\n          alt={alt}\n          className={styles.image}\n          crossOrigin={crossOrigin}\n          decoding={decoding}\n          loading={loading}\n          referrerPolicy={referrerPolicy}\n          sizes={sizes}\n          src={src}\n          srcSet={srcSet}\n          useMap={useMap}\n          onLoad={handleImageLoad}\n          onError={handleImageError}\n        />\n      )}\n      {needShowFallbackIcon && <div className={styles.fallback}>{fallbackIcon}</div>}\n      {children}\n    </div>\n  );\n};\n\nImage.Badge = ImageBadge;\n"],"names":["Image","size","className","alt","crossOrigin","decoding","loading","referrerPolicy","sizes","src","srcSet","useMap","style","fallbackIcon","children","onLoad","onError","restProps","loaded","setLoaded","useState","failed","setFailed","hasSrc","needShowFallbackIcon","isValidElement","handleImageLoad","event","handleImageError","div","width","minWidth","height","borderRadius","getBorderRadius","classNames","img","Badge","ImageBadge"],"mappings":"AAAA;;;;;+BAwBaA;;;eAAAA;;;;;;;uBAtB0E;4BAG5D;iCAEK;4BACL;AAgBpB,MAAMA,QAAQ;QAAC,EACpBC,OAAO,EAAE,EACTC,SAAS,EACTC,GAAG,EACHC,WAAW,EACXC,QAAQ,EACRC,OAAO,EACPC,cAAc,EACdC,KAAK,EACLC,GAAG,EACHC,MAAM,EACNC,MAAM,EACNC,KAAK,EACLC,YAAY,EACZC,QAAQ,EACRC,MAAM,EACNC,OAAO,EAEI,WADRC;QAhBHhB;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;;IAGA,MAAM,CAACE,QAAQC,UAAU,GAAGC,IAAAA,eAAQ,EAAC;IACrC,MAAM,CAACC,QAAQC,UAAU,GAAGF,IAAAA,eAAQ,EAAC;IAErC,MAAMG,SAASd,OAAOC;IACtB,MAAMc,uBAAuB,AAACH,CAAAA,UAAU,CAACE,MAAK,mBAAME,IAAAA,qBAAc,EAACZ;IAEnE,MAAMa,kBAAkB,CAACC;QACvB,IAAIT,QAAQ;YACV;QACF;QAEAC,UAAU;QACVG,UAAU;QACVP,mBAAAA,6BAAAA,OAASY;IACX;IAEA,MAAMC,mBAAmB,CAACD;QACxBR,UAAU;QACVG,UAAU;QACVN,oBAAAA,8BAAAA,QAAUW;IACZ;IAEA,qBACE,sBAACE;QACCjB,OAAO;YACLkB,OAAO7B;YACP8B,UAAU9B;YACV+B,QAAQ/B;YACRgC,cAAcrB,CAAAA,kBAAAA,4BAAAA,MAAOqB,YAAY,KAAIC,IAAAA,gCAAe,EAACjC;WAClDW;QAELV,WAAWiC,IAAAA,sBAAU,2BAEnBjB,mCACAhB;OAEEe;;YAEHM,wBACC,qBAACa;gBACCjC,KAAKA;gBACLD,SAAS;gBACTE,aAAaA;gBACbC,UAAUA;gBACVC,SAASA;gBACTC,gBAAgBA;gBAChBC,OAAOA;gBACPC,KAAKA;gBACLC,QAAQA;gBACRC,QAAQA;gBACRI,QAAQW;gBACRV,SAASY;;YAGZJ,sCAAwB,qBAACK;gBAAI3B,SAAS;0BAAoBW;;YAC1DC;;;AAGP;AAEAd,MAAMqC,KAAK,GAAGC,sBAAU"}