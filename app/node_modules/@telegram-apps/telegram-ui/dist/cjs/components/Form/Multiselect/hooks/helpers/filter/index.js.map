{"version":3,"sources":["../../../../../../../../src/components/Form/Multiselect/hooks/helpers/filter/index.ts"],"sourcesContent":["import { getTextFromChildren } from 'helpers/react/children';\n\nimport { MultiselectOption } from 'components/Form/Multiselect/types';\n\nexport type FilterFn = (\n  inputValue: string,\n  option: MultiselectOption,\n) => boolean;\n\nexport function defaultFilterFn(\n  ...args: Parameters<FilterFn>\n): ReturnType<FilterFn> {\n  const [rawSearchQuery = '', option] = args;\n\n  if (option?.label === undefined) {\n    return false;\n  }\n\n  const searchQuery = rawSearchQuery.trim().toLocaleLowerCase();\n  const label = getTextFromChildren(option.label).toLocaleLowerCase();\n\n  if (label.startsWith(searchQuery)) {\n    return true;\n  }\n\n  const findAllIncludes = (target = '', search = '') => {\n    const includes = [];\n    let i = target.indexOf(search);\n    while (i !== -1) {\n      includes.push(i);\n      i = target.indexOf(search, i + 1);\n    }\n    return includes;\n  };\n\n  const includes = findAllIncludes(label, searchQuery);\n  if (includes.length === 0) {\n    return false;\n  }\n\n  return includes.some(index => index === 0 || !/\\p{L}/u.test(label[index - 1]));\n}\n"],"names":["defaultFilterFn","args","rawSearchQuery","option","label","undefined","searchQuery","trim","toLocaleLowerCase","getTextFromChildren","startsWith","findAllIncludes","target","search","includes","i","indexOf","push","length","some","index","test"],"mappings":";;;;+BASgBA;;;eAAAA;;;0BAToB;AAS7B,SAASA,gBACd,GAAGC,IAA0B;IAE7B,MAAM,CAACC,iBAAiB,EAAE,EAAEC,OAAO,GAAGF;IAEtC,IAAIE,CAAAA,mBAAAA,6BAAAA,OAAQC,KAAK,MAAKC,WAAW;QAC/B,OAAO;IACT;IAEA,MAAMC,cAAcJ,eAAeK,IAAI,GAAGC,iBAAiB;IAC3D,MAAMJ,QAAQK,IAAAA,6BAAmB,EAACN,OAAOC,KAAK,EAAEI,iBAAiB;IAEjE,IAAIJ,MAAMM,UAAU,CAACJ,cAAc;QACjC,OAAO;IACT;IAEA,MAAMK,kBAAkB,CAACC,SAAS,EAAE,EAAEC,SAAS,EAAE;QAC/C,MAAMC,WAAW,EAAE;QACnB,IAAIC,IAAIH,OAAOI,OAAO,CAACH;QACvB,MAAOE,MAAM,CAAC,EAAG;YACfD,SAASG,IAAI,CAACF;YACdA,IAAIH,OAAOI,OAAO,CAACH,QAAQE,IAAI;QACjC;QACA,OAAOD;IACT;IAEA,MAAMA,WAAWH,gBAAgBP,OAAOE;IACxC,IAAIQ,SAASI,MAAM,KAAK,GAAG;QACzB,OAAO;IACT;IAEA,OAAOJ,SAASK,IAAI,CAACC,CAAAA,QAASA,UAAU,KAAK,CAAC,sBAASC,IAAI,CAACjB,KAAK,CAACgB,QAAQ,EAAE;AAC9E"}