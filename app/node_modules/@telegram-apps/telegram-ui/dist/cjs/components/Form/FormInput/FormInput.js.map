{"version":3,"sources":["../../../../../src/components/Form/FormInput/FormInput.tsx"],"sourcesContent":["'use client';\n\nimport { forwardRef, HTMLAttributes, ReactNode, useState } from 'react';\nimport styles from './FormInput.module.css';\n\nimport { classNames } from 'helpers/classNames';\nimport { callMultiple } from 'helpers/function';\nimport { hasReactNode } from 'helpers/react/node';\nimport { usePlatform } from 'hooks/usePlatform';\n\nimport { FormInputTitle } from './components/FormInputTitle';\n\nexport interface FormPublicProps {\n  /** Defines the visual state of the form input (e.g., error, focused). */\n  status?: 'default' | 'error' | 'focused';\n  /** Optional header content, displayed above the form input on `base` platform. */\n  header?: ReactNode;\n  /** Content to be displayed before the form input, such as icons or labels. */\n  before?: ReactNode;\n  /** Content to be displayed after the form input, often used for action icons or additional information. */\n  after?: ReactNode;\n  /** Indicates if the form input is disabled. */\n  disabled?: boolean;\n}\n\nexport interface FormInputProps extends FormPublicProps, HTMLAttributes<HTMLLabelElement> {}\n\nconst platformStyles = {\n  base: styles['wrapper--base'],\n  ios: styles['wrapper--ios'],\n};\n\nconst formStatusStyles = {\n  default: styles['wrapper--default'],\n  error: styles['wrapper--error'],\n  focused: styles['wrapper--focused'],\n};\n\n/**\n * Wraps an input element with additional layout for headers, icons, or actions, providing a consistent look and feel across the form.\n * It supports conditional rendering based on the platform and the state of the form element.\n */\nexport const FormInput = forwardRef<HTMLDivElement, FormInputProps>(({\n  status,\n  header,\n  before,\n  after,\n  disabled,\n  children,\n  className,\n  onFocus: onFocusProp,\n  onBlur: onBlurProp,\n  ...restProps\n}, ref) => {\n  const platform = usePlatform();\n  const [isFocused, setIsFocused] = useState(false);\n\n  const formStatus = status || (isFocused ? 'focused' : 'default');\n\n  const onFocus = callMultiple(onFocusProp, () => {\n    if (disabled) {\n      return;\n    }\n\n    setIsFocused(true);\n  });\n  const onBlur = callMultiple(onBlurProp, () => setIsFocused(false));\n\n  return (\n    <div\n      ref={ref}\n      className={classNames(\n        styles.wrapper,\n        platformStyles[platform],\n        formStatusStyles[formStatus],\n        disabled && styles['wrapper--disabled'],\n      )}\n      aria-disabled={disabled}\n    >\n      <label\n        aria-disabled={disabled}\n        className={classNames(styles.body, className)}\n        onFocus={onFocus}\n        onBlur={onBlur}\n        {...restProps}\n      >\n        {hasReactNode(before) && (\n          <div className={styles.before}>\n            {before}\n          </div>\n        )}\n        {children}\n        {hasReactNode(after) && (\n          <div className={styles.after}>\n            {after}\n          </div>\n        )}\n      </label>\n      {hasReactNode(header) && platform === 'base' && (\n        <FormInputTitle className={styles.title}>{header}</FormInputTitle>\n      )}\n    </div>\n  );\n});\n"],"names":["FormInput","platformStyles","base","ios","formStatusStyles","default","error","focused","forwardRef","ref","status","header","before","after","disabled","children","className","onFocus","onFocusProp","onBlur","onBlurProp","restProps","platform","usePlatform","isFocused","setIsFocused","useState","formStatus","callMultiple","div","classNames","aria-disabled","label","hasReactNode","FormInputTitle"],"mappings":"AAAA;;;;;+BA0CaA;;;eAAAA;;;;;;;uBAxCmD;4BAGrC;0BACE;sBACA;6BACD;gCAEG;AAiB/B,MAAMC,iBAAiB;IACrBC,IAAI;IACJC,GAAG;AACL;AAEA,MAAMC,mBAAmB;IACvBC,OAAO;IACPC,KAAK;IACLC,OAAO;AACT;AAMO,MAAMP,0BAAYQ,IAAAA,iBAAU,EAAiC,SAWjEC;QAXkE,EACnEC,MAAM,EACNC,MAAM,EACNC,MAAM,EACNC,KAAK,EACLC,QAAQ,EACRC,QAAQ,EACRC,SAAS,EACTC,SAASC,WAAW,EACpBC,QAAQC,UAAU,EAEnB,WADIC;QATHX;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAE;;IAGA,MAAMG,WAAWC,IAAAA,wBAAW;IAC5B,MAAM,CAACC,WAAWC,aAAa,GAAGC,IAAAA,eAAQ,EAAC;IAE3C,MAAMC,aAAajB,UAAWc,CAAAA,YAAY,YAAY,SAAQ;IAE9D,MAAMP,UAAUW,IAAAA,sBAAY,EAACV,aAAa;QACxC,IAAIJ,UAAU;YACZ;QACF;QAEAW,aAAa;IACf;IACA,MAAMN,SAASS,IAAAA,sBAAY,EAACR,YAAY,IAAMK,aAAa;IAE3D,qBACE,sBAACI;QACCpB,KAAKA;QACLO,WAAWc,IAAAA,sBAAU,2BAEnB7B,cAAc,CAACqB,SAAS,EACxBlB,gBAAgB,CAACuB,WAAW,EAC5Bb;QAEFiB,iBAAejB;;0BAEf,sBAACkB;gBACCD,iBAAejB;gBACfE,WAAWc,IAAAA,sBAAU,2BAAcd;gBACnCC,SAASA;gBACTE,QAAQA;eACJE;;oBAEHY,IAAAA,kBAAY,EAACrB,yBACZ,qBAACiB;wBAAIb,SAAS;kCACXJ;;oBAGJG;oBACAkB,IAAAA,kBAAY,EAACpB,wBACZ,qBAACgB;wBAAIb,SAAS;kCACXH;;;;YAINoB,IAAAA,kBAAY,EAACtB,WAAWW,aAAa,wBACpC,qBAACY,8BAAc;gBAAClB,SAAS;0BAAiBL;;;;AAIlD"}