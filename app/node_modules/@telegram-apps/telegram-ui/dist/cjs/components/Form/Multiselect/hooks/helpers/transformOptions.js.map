{"version":3,"sources":["../../../../../../../src/components/Form/Multiselect/hooks/helpers/transformOptions.ts"],"sourcesContent":["import { isServicePreset } from 'components/Form/Multiselect/hooks/constants';\nimport { getNewOptionData } from 'components/Form/Multiselect/hooks/helpers/getNewOptionData';\nimport { UseMultiselectProps } from 'components/Form/Multiselect/hooks/useMultiselect';\nimport { MultiselectOption } from 'components/Form/Multiselect/types';\n\nexport const transformOptions = ({\n  value,\n  inputValue = '',\n  emptyText,\n  creatable = false,\n  filterFn,\n  options: optionsProp,\n  selectedBehavior,\n}: Required<Pick<UseMultiselectProps, 'value' | 'options' | 'emptyText'>> &\nPick<\nUseMultiselectProps,\n| 'inputValue'\n| 'emptyText'\n| 'creatable'\n| 'filterFn'\n| 'options'\n| 'selectedBehavior'\n>): MultiselectOption[] => {\n  const filteredOptionsProp = filterFn\n    ? optionsProp.filter((option) => filterFn(inputValue, option))\n    : optionsProp;\n\n  if (filteredOptionsProp.length === 0) {\n    if (inputValue !== '' && typeof creatable === 'string') {\n      return [{\n        ...getNewOptionData('', ''),\n        actionText: creatable,\n      }];\n    }\n\n    return [{\n      ...getNewOptionData('', ''),\n      placeholder: emptyText,\n    }];\n  }\n\n  if (selectedBehavior === 'hide') {\n    const selected = value.map((item) => item.value);\n    return filteredOptionsProp.filter((item) => {\n      return !isServicePreset(item) ? !selected.includes(item.value) : false;\n    });\n  }\n\n  return filteredOptionsProp;\n};\n"],"names":["transformOptions","value","inputValue","emptyText","creatable","filterFn","options","optionsProp","selectedBehavior","filteredOptionsProp","filter","option","length","getNewOptionData","actionText","placeholder","selected","map","item","isServicePreset","includes"],"mappings":";;;;+BAKaA;;;eAAAA;;;;;2BALmB;kCACC;AAI1B,MAAMA,mBAAmB,CAAC,EAC/BC,KAAK,EACLC,aAAa,EAAE,EACfC,SAAS,EACTC,YAAY,KAAK,EACjBC,QAAQ,EACRC,SAASC,WAAW,EACpBC,gBAAgB,EAUjB;IACC,MAAMC,sBAAsBJ,WACxBE,YAAYG,MAAM,CAAC,CAACC,SAAWN,SAASH,YAAYS,WACpDJ;IAEJ,IAAIE,oBAAoBG,MAAM,KAAK,GAAG;QACpC,IAAIV,eAAe,MAAM,OAAOE,cAAc,UAAU;YACtD,OAAO;gBAAC,4CACHS,IAAAA,kCAAgB,EAAC,IAAI;oBACxBC,YAAYV;;aACZ;QACJ;QAEA,OAAO;YAAC,4CACHS,IAAAA,kCAAgB,EAAC,IAAI;gBACxBE,aAAaZ;;SACb;IACJ;IAEA,IAAIK,qBAAqB,QAAQ;QAC/B,MAAMQ,WAAWf,MAAMgB,GAAG,CAAC,CAACC,OAASA,KAAKjB,KAAK;QAC/C,OAAOQ,oBAAoBC,MAAM,CAAC,CAACQ;YACjC,OAAO,CAACC,IAAAA,0BAAe,EAACD,QAAQ,CAACF,SAASI,QAAQ,CAACF,KAAKjB,KAAK,IAAI;QACnE;IACF;IAEA,OAAOQ;AACT"}