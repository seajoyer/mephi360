{"version":3,"sources":["../../../../../src/components/Feedback/Snackbar/Snackbar.tsx"],"sourcesContent":["'use client';\n\nimport { HTMLAttributes, ReactElement, ReactNode, useEffect, useState } from 'react';\nimport styles from './Snackbar.module.css';\n\nimport { classNames } from 'helpers/classNames';\nimport { hasReactNode } from 'helpers/react/node';\nimport { usePlatform } from 'hooks/usePlatform';\nimport { useTimeout } from 'hooks/useTimeout';\n\nimport { LinkProps } from 'components/Navigation/Link/Link';\nimport { RootRenderer } from 'components/Service/RootRenderer/RootRenderer';\nimport { Caption } from 'components/Typography/Caption/Caption';\nimport { SnackbarButton } from './components/SnackbarButton/SnackbarButton';\n\nexport interface SnackbarProps extends HTMLAttributes<HTMLDivElement> {\n  /** Element or component to be displayed on the left side of the snackbar. */\n  before?: ReactNode;\n  /** Element or component to be displayed on the right side of the snackbar. */\n  after?: ReactNode;\n  /** The main content of the snackbar, typically text or a message. */\n  children?: ReactNode;\n  /** Additional content displayed below the main message. */\n  description?: ReactNode;\n  /** A link component to be included in the snackbar for user interaction. */\n  link?: ReactElement<LinkProps>;\n  /** The duration in milliseconds after which the snackbar will automatically close. */\n  duration?: number;\n  /** Callback function invoked when the snackbar is closed. */\n  onClose: () => void;\n}\n\nconst TRANSITION_FINISH_DURATION = 320;\n\n/**\n * Displays a brief message at the bottom of the screen, which can contain actions and other content.\n * It automatically dismisses after a set duration, providing feedback or interaction prompts to users.\n */\nexport const Snackbar = ({\n  before,\n  after,\n  description,\n  link,\n  children,\n  className,\n  duration = 4000,\n  onClose,\n  ...restProps\n}: SnackbarProps) => {\n  const platform = usePlatform();\n  const [closing, setClosing] = useState(false);\n\n  const close = () => {\n    setClosing(true);\n    setTimeout(onClose, TRANSITION_FINISH_DURATION);\n  };\n\n  const closeTimeout = useTimeout(close, duration);\n  useEffect(() => closeTimeout.set(), [closeTimeout]);\n\n  return (\n    <RootRenderer>\n      <div\n        className={classNames(\n          styles.wrapper,\n          platform === 'ios' && styles['wrapper--ios'],\n          closing && styles['wrapper--closing'],\n          className,\n        )}\n        {...restProps}\n      >\n        <div className={styles.body}>\n          {hasReactNode(before) && (\n            <div className={styles.before}>\n              {before}\n            </div>\n          )}\n          <div className={styles.middle}>\n            {hasReactNode(children) && <Caption weight=\"2\">{children}</Caption>}\n            {hasReactNode(description) && <Caption>{description}</Caption>}\n            {hasReactNode(link) && <Caption>{link}</Caption>}\n          </div>\n          {hasReactNode(after) && (\n            <div className={styles.after}>\n              {after}\n            </div>\n          )}\n        </div>\n      </div>\n    </RootRenderer>\n  );\n};\n\nSnackbar.Button = SnackbarButton;\n"],"names":["Snackbar","TRANSITION_FINISH_DURATION","before","after","description","link","children","className","duration","onClose","restProps","platform","usePlatform","closing","setClosing","useState","close","setTimeout","closeTimeout","useTimeout","useEffect","set","RootRenderer","div","classNames","hasReactNode","Caption","weight","Button","SnackbarButton"],"mappings":"AAAA;;;;;+BAsCaA;;;eAAAA;;;;;;;uBApCgE;4BAGlD;sBACE;6BACD;4BACD;8BAGE;yBACL;gCACO;AAmB/B,MAAMC,6BAA6B;AAM5B,MAAMD,WAAW;QAAC,EACvBE,MAAM,EACNC,KAAK,EACLC,WAAW,EACXC,IAAI,EACJC,QAAQ,EACRC,SAAS,EACTC,WAAW,IAAI,EACfC,OAAO,EAEO,WADXC;QARHR;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;;IAGA,MAAME,WAAWC,IAAAA,wBAAW;IAC5B,MAAM,CAACC,SAASC,WAAW,GAAGC,IAAAA,eAAQ,EAAC;IAEvC,MAAMC,QAAQ;QACZF,WAAW;QACXG,WAAWR,SAASR;IACtB;IAEA,MAAMiB,eAAeC,IAAAA,sBAAU,EAACH,OAAOR;IACvCY,IAAAA,gBAAS,EAAC,IAAMF,aAAaG,GAAG,IAAI;QAACH;KAAa;IAElD,qBACE,qBAACI,0BAAY;kBACX,cAAA,qBAACC;YACChB,WAAWiB,IAAAA,sBAAU,2BAEnBb,aAAa,kCACbE,oCACAN;WAEEG;sBAEJ,cAAA,sBAACa;gBAAIhB,SAAS;;oBACXkB,IAAAA,kBAAY,EAACvB,yBACZ,qBAACqB;wBAAIhB,SAAS;kCACXL;;kCAGL,sBAACqB;wBAAIhB,SAAS;;4BACXkB,IAAAA,kBAAY,EAACnB,2BAAa,qBAACoB,gBAAO;gCAACC,QAAO;0CAAKrB;;4BAC/CmB,IAAAA,kBAAY,EAACrB,8BAAgB,qBAACsB,gBAAO;0CAAEtB;;4BACvCqB,IAAAA,kBAAY,EAACpB,uBAAS,qBAACqB,gBAAO;0CAAErB;;;;oBAElCoB,IAAAA,kBAAY,EAACtB,wBACZ,qBAACoB;wBAAIhB,SAAS;kCACXJ;;;;;;AAOf;AAEAH,SAAS4B,MAAM,GAAGC,8BAAc"}