{"version":3,"sources":["../../../src/helpers/fuctions.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { canUseDOM } from 'helpers/dom';\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isFunction(value: unknown): value is Function {\n  return typeof value === 'function';\n}\n\nexport function throttle<T extends any[]>(\n  fn: (...args: T) => unknown,\n  threshold = 50,\n  scope = canUseDOM ? window : undefined,\n) {\n  let prevDate: number = Date.now() - threshold;\n  let timeoutId: ReturnType<typeof setTimeout>;\n\n  const throttledFn = (...args: T) => {\n    const timeLeft = prevDate + threshold - Date.now();\n\n    clearTimeout(timeoutId);\n    if (timeLeft > 0) {\n      timeoutId = setTimeout(() => {\n        prevDate = Date.now();\n        fn.apply(scope, args);\n      }, timeLeft);\n      return;\n    }\n\n    prevDate = Date.now();\n    fn.apply(scope, args);\n  };\n\n  throttledFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return throttledFn;\n}\n\nexport function debounce<T extends any[]>(\n  fn: (...args: T) => unknown,\n  delay: number,\n  context = canUseDOM ? window : undefined,\n) {\n  let timeoutId: ReturnType<typeof setTimeout>;\n  let args: T;\n\n  const later = () => fn.apply(context, args);\n  const debouncedFn = (...a: T) => {\n    args = a;\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(later, delay);\n  };\n\n  debouncedFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return debouncedFn;\n}\n"],"names":["debounce","isFunction","throttle","value","fn","threshold","scope","canUseDOM","window","undefined","prevDate","Date","now","timeoutId","throttledFn","args","timeLeft","clearTimeout","setTimeout","apply","cancel","delay","context","later","debouncedFn","a"],"mappings":"AAAA,qDAAqD;;;;;;;;;;;IAwCrCA,QAAQ;eAARA;;IAnCAC,UAAU;eAAVA;;IAIAC,QAAQ;eAARA;;;qBAPU;AAGnB,SAASD,WAAWE,KAAc;IACvC,OAAO,OAAOA,UAAU;AAC1B;AAEO,SAASD,SACdE,EAA2B,EAC3BC,YAAY,EAAE,EACdC,QAAQC,cAAS,GAAGC,SAASC,SAAS;IAEtC,IAAIC,WAAmBC,KAAKC,GAAG,KAAKP;IACpC,IAAIQ;IAEJ,MAAMC,cAAc,CAAC,GAAGC;QACtB,MAAMC,WAAWN,WAAWL,YAAYM,KAAKC,GAAG;QAEhDK,aAAaJ;QACb,IAAIG,WAAW,GAAG;YAChBH,YAAYK,WAAW;gBACrBR,WAAWC,KAAKC,GAAG;gBACnBR,GAAGe,KAAK,CAACb,OAAOS;YAClB,GAAGC;YACH;QACF;QAEAN,WAAWC,KAAKC,GAAG;QACnBR,GAAGe,KAAK,CAACb,OAAOS;IAClB;IAEAD,YAAYM,MAAM,GAAG;QACnBH,aAAaJ;IACf;IAEA,OAAOC;AACT;AAEO,SAASd,SACdI,EAA2B,EAC3BiB,KAAa,EACbC,UAAUf,cAAS,GAAGC,SAASC,SAAS;IAExC,IAAII;IACJ,IAAIE;IAEJ,MAAMQ,QAAQ,IAAMnB,GAAGe,KAAK,CAACG,SAASP;IACtC,MAAMS,cAAc,CAAC,GAAGC;QACtBV,OAAOU;QACPR,aAAaJ;QACbA,YAAYK,WAAWK,OAAOF;IAChC;IAEAG,YAAYJ,MAAM,GAAG;QACnBH,aAAaJ;IACf;IAEA,OAAOW;AACT"}